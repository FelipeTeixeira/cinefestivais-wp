jQuery(function(a){function f(a){return decodeURIComponent(atob(a).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function h(a){a=a.match(/:\/\/(.[^/:]+)/i);return null!=a&&1<a.length&&"string"===typeof a[1]&&0<a[1].length?a[1]:null}ai_process_lists=function(b){null==b&&(b=a("div.ai-list-data"));if(b.length){var c="undefined"!==typeof ai_debugging,g=document.cookie.split(";");g.forEach(function(a,c){g[c]=a.trim()});var n=getAllUrlParams(window.location.search);
if(null!=n.referrer)var k=n.referrer;else k=document.referrer,""!=k&&(k=h(k));if("undefined"!==typeof MobileDetect)var p=new MobileDetect(window.navigator.userAgent);b.each(function(){var e=a(this).closest("div.ai-list-block");c&&console.log("AI LISTS BLOCK",e.attr("class"));var b=!0,d=!1,l=a(this).attr("referer-list");if("undefined"!=typeof l){var h=f(l).split(","),m=a(this).attr("referer-list-type");c&&console.log("AI LISTS referer:     ",k);c&&console.log("AI LISTS referer list:",f(l),m);a.each(h,
function(a,b){if(""==b)return!0;if("*"==b.charAt(0))if("*"==b.charAt(b.length-1)){if(b=b.substr(1,b.length-2),-1!=k.indexOf(b))return d=!0,!1}else{if(b=b.substr(1),k.substr(-b.length)==b)return d=!0,!1}else if("*"==b.charAt(b.length-1)){if(b=b.substr(0,b.length-1),0==k.indexOf(b))return d=!0,!1}else if("#"==b){if(""==k)return d=!0,!1}else if(b==k)return d=!0,!1});switch(m){case "B":d&&(b=!1);break;case "W":d||(b=!1)}c&&console.log("AI LISTS list found",d);c&&console.log("AI LISTS list pass",b)}l=
a(this).attr("client-list");if("undefined"!=typeof l&&"undefined"!==typeof p){h=f(l).split(",");m=a(this).attr("client-list-type");c&&console.log("AI LISTS client:     ",window.navigator.userAgent);c&&console.log("AI LISTS client list:",f(l),m);a.each(h,function(b,a){if(""==a)return!0;if(p.is(a))return c&&console.log("AI LISTS FOUND:",a),d=!0,!1});switch(m){case "B":d&&(b=!1);break;case "W":d||(b=!1)}c&&console.log("AI LISTS list found",d);c&&console.log("AI LISTS list pass",b)}if(b&&(l=a(this).attr("parameter-list"),
"undefined"!=typeof l)){h=f(l).split(",");m=a(this).attr("parameter-list-type");c&&console.log("");c&&console.log("AI LISTS cookies:       ",g);c&&console.log("AI LISTS parameter list:",f(l),m);d=!1;a.each(h,function(a,b){if(-1!=b.indexOf("=")){if(-1!=g.indexOf(b))return d=!0,!1}else g.forEach(function(a){a=a.split("=");if(b==a[0])return d=!0,!1})});switch(m){case "B":d&&(b=!1);break;case "W":d||(b=!1)}c&&console.log("AI LISTS list found",d);c&&console.log("AI LISTS list pass",b)}a(this).css({visibility:"",
position:"",width:"",height:"","z-index":""}).removeClass("ai-list-data");e.removeClass("ai-list-block");e.find(".ai-debug-name.ai-list-info").text(k);e.find(".ai-debug-name.ai-user-agent").text(window.navigator.userAgent);e.find(".ai-debug-name.ai-list-status").text(b?ai_front.visible:ai_front.hidden);b?(e.css({visibility:""}),e.hasClass("ai-remove-position")&&e.css({position:""}),"undefined"!=typeof a(this).data("code")&&(e=f(a(this).data("code")),a(this).append(e),a(this).attr("data-code",""),
c&&console.log("AI INSERT CODE",a(e).attr("class")),c&&console.log(""))):(a(this).hide(),e.removeAttr("data-ai"),e.find(".ai-debug-block")?(e.css({visibility:""}).removeClass("ai-close"),e.hasClass("ai-remove-position")&&e.css({position:""})):e.hide())})}};a(document).ready(function(a){setTimeout(function(){ai_process_lists()},5)})});
function getAllUrlParams(a){var f=a?a.split("?")[1]:window.location.search.slice(1);a={};if(f){f=f.split("#")[0];f=f.split("&");for(var h=0;h<f.length;h++){var b=f[h].split("="),c=void 0,g=b[0].replace(/\[\d*\]/,function(a){c=a.slice(1,-1);return""});b="undefined"===typeof b[1]?"":b[1];g=g.toLowerCase();b=b.toLowerCase();a[g]?("string"===typeof a[g]&&(a[g]=[a[g]]),"undefined"===typeof c?a[g].push(b):a[g][c]=b):a[g]=b}}return a};
